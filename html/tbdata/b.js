
jQuery(document).ready(function(){
    /* Time To Show */
    var path =[];
    path[0]=["M54.367 433.415L36.764 370.344","M36.764 370.344L57.25 357.25","M57.25 357.25L93.5 360.25","M93.5 360.25L103.75 352","M103.75 352L93.5 304","M93.5 304L133.5 305.75","M133.5 305.75L145 353.75","M145 353.75L173.75 333","M173.75 333L164.5 287.25","M164.5 287.25L133.5 305.75","M93.5 304L123 287.25","M123 287.25L164.5 287.25","M198.5 288.75L205 320.75"];
    path[1]=["M982.212 337.099L969.788 381.011","M969.788 381.011L951.722 385.048","M930.803 458.981L965.289 337.099","M965.289 337.099L904.026 340.74","M904.026 340.74L849.617 310.537","M965.289 337.099L911.836 306.985","M911.836 306.985L849.617 310.537","M860.732 309.902L862.929 289.495","M862.929 289.495L830.833 289.495","M830.833 289.495L799.333 275.333","M799.333 275.333L772.666 277.333","M772.666 277.333L751.333 266.333","M219.625 303.5L220.469 320.75"];
    path[2]=["M754.5 480.625L757.5 463.25","M749.875 453.125L776.75 489.125","M776.75 489.125L809.125 486.125","M809.125 486.125L849.617 310.537","M811.218 477.05L787.5 478.25","M787.5 478.25L766.5 451.75","M787.5 478.25L830.833 288.638","M766.5 451.75L799.333 263","M799.333 263L777 263","M777 263L767.75 258","M799.333 263L791.25 258","M791.25 258L767.75 258","M331.25 292.316L334.307 337.105"];
    path[3]=["M684.867 490.355L688.042 475.229","M688.042 475.229L732.676 469.999","M732.676 469.999L732.676 465","M732.676 465L757.967 463.964","M688.042 475.229L682.626 465","M652.746 467.5L719.416 460.849","M719.416 460.849L718.482 456.927","M718.482 456.927L749.875 453.125","M749.875 453.125L772.666 277.333","M652.746 467.5L671.022 287.361","M671.022 287.361L647.025 266.333","M671.022 287.361L770.469 285.977","M770.469 285.977L735.857 264.75"];
    path[4]=["M632.142 467.5L647.025 266.333","M647.025 265.211L735.857 264.75","M749.875 273.347L749.875 266.333","M749.875 266.333L766.5 265.211","M766.5 265.211L767.75 258","M779.5 256.213L779.5 242.83","M779.5 242.83L729.167 243.984","M779.5 242.83L765.392 235.216","M765.392 235.216L716.707 235.216","M729.167 264.75L729.167 243.984","M715.554 264.98L716.707 235.216","M729.167 243.984L716.707 235.216","M320.059 319.022L331.767 310.404"];
    path[5]=["M612.227 469.856L613.941 419.843","M613.941 419.843L634.709 418.985","M613.941 419.843L606.796 412.983","M606.796 412.983L629.66 412.507","M634.709 418.318L629.66 412.507","M629.66 412.507L632.185 295.167","M632.185 295.167L643.333 303.5","M632.185 295.167L644.333 292.333","M637.759 293.867L636.667 280.833","M636.667 280.833L645.952 280.833","M636.667 280.833L644.333 287.361","M630.922 332.407L591.036 332.485","M630.922 331.938L625.12 323.475","M625.12 323.475L586.179 323.475","M591.036 332.485L585.865 323.867"];
    path[6]=["M604.809 461.364L607.524 387.513","M607.524 387.513L588.627 387.513","M585.865 453.209L591.036 332.485","M585.865 453.209L563.454 453.209","M573.684 453.209L574.66 384.566","M574.66 384.566L588.451 384.566","M563.454 453.209L563.454 435.715","M563.454 435.715L559.748 428.895","M559.748 428.895L535.879 428.895","M535.879 428.895L535.879 378.044","M535.879 378.044L530.098 369.741","M584.067 384.566L589.735 203.669","M589.735 203.669L585.489 199.275","M585.489 199.275L511.213 199.275","M589.735 203.669L515.48 203.669","M515.48 203.669L511.213 199.275"];
    path[7]=["M492.857 429.867L490.461 404.431","M490.461 404.431L451.833 404.431","M481 404.431L481 378.044","M481 378.044L535.167 378.044","M481 378.044L486.667 369.741","M486.667 369.741L530.098 369.741","M515.48 369.741L515.48 203.669","M511.213 369.741L511.213 199.275","M506.333 369.741L506.333 315.667","M506.333 315.667L511.213 305.333","M511.213 305.333L494.667 303.5","M494.667 303.5L492.857 218.667","M312.333 263.667L321.142 256.333"];
    path[8]=["M486.667 442.667L483.833 412.507","M483.833 412.507L490.461 404.431","M483.833 412.507L445.667 412.507","M445.667 412.507L451.833 404.431","M451.833 404.431L450.333 373.893","M450.333 373.893L426.667 373.893","M487.147 368.333L485.25 227.333","M485.25 227.333L492.857 218.182","M486.199 315.667L494.667 303.5","M486.199 315.667L506.333 315.667","M492.857 218.182L433 218.182","M485.25 227.333L426.667 225","M321.142 257.022L325.803 314.794"];
    path[9]=["M447.333 442.667L443 381.334","M443 381.334L450.333 373.893","M443 381.334L419.667 381.334","M426.667 318L364 317.667","M426.667 307.333L373 307.333","M373 307.333L364 317.667","M255 314.5L263.722 307.972","M263.722 307.972L268 333.979","M268 333.979L287.495 333.979","M287.495 333.979L300.702 318.538","M292 317.667L320 318","M292 317.667L286.188 218.182","M299 256.333L321.142 256.333"];
    path[10]=["M422.476 430.578L419.349 381.334","M419.349 381.334L426.667 373.893","M426.667 373.893L426.667 225","M426.667 225L433 218.182"];
    path[11]=["M149 489L120 391.5","M120 391.5L75.375 387","M75.375 387L73 373.893","M73 373.893L36.764 370.344"];
    path[12]=["M165.625 459.875L139.75 377.375","M139.75 377.375L120 391.5","M148.078 403.929L165 404.875","M323.269 394.154L349.377 394.154"];
    path[13]=["M178.75 444.75L165 404.875","M165 404.875L151.818 415.854","M236.625 409.75L222.938 348.25","M222.938 348.25L218 353.75"];
    path[14]=["M200.75 435.5L196.125 421.25","M196.125 421.25L170.092 419.641","M170.092 419.641L180.5 410.364","M180.5 409.75L205 411.875","M205 411.875L196.125 421.25","M205 411.875L209.875 424.125","M209.875 424.125L219.625 424.813","M399.13 435.046L395.431 400.86","M395.431 400.86L402.949 386.666","M402.949 386.666L419.349 386.666","M310.923 349.735L321.142 338.137","M242.336 228.675L242.424 216.569","M344.21 291.878L349.331 286.25","M242.424 218.182L286.188 218.182"];
    path[15]=["M226.25 446.375L219.625 424.813","M219.625 424.813L236.625 409.75","M231.645 414.163L218 353.75","M218 353.75L210.75 353.75","M210.75 353.75L206.25 331.75","M206.25 331.75L173.75 330.5","M173.75 330.5L188 320.75","M188 320.75L184.75 298.25","M184.75 298.25L166.37 296.5","M166.37 296.5L177.5 288.75","M177.5 288.75L198.5 288.75","M184.75 298.25L198.5 288.75","M351.896 307.333L358.8 298.742","M358.8 298.742L364.238 298.742","M364.238 298.742L371.517 290.752"];
    path[16]=["M276.185 460.867L264.516 411.685","M264.516 411.685L297 376.625","M297 376.625L275.375 375.875","M275.375 375.875L273.25 369.875","M273.25 369.875L262.75 369.875","M262.75 369.875L255 314.5","M255 314.5L220.469 312.5","M220.469 312.5L219.625 303.5","M219.625 303.5L225.404 299.06","M225.404 299.06L220.047 234.348","M220.047 234.348L229.781 228.675","M229.781 228.675L242.424 228.675","M205 320.177L220.047 320.056","M243.75 216.569L258.875 211.667","M258.875 211.667L297 211.667"];
    path[17]=["M328.765 438.058L323.269 394.154","M323.269 394.154L328.765 383.957","M328.765 383.957L356.068 383.957","M347.735 383.957L345.076 350.12","M345.076 350.12L353.586 337.71","M353.586 337.71L321.142 337.71","M321.142 337.71L320 318","M315.333 317.667L312.333 263.667","M312.333 263.667L289.094 263.667","M289.094 263.667L299 256.333","M299 256.333L297 211.667","M297 211.667L285.641 218.182","M347.459 243.529L353.586 239.25"];
    path[18]=["M402.949 487.43L399.774 450.82","M399.774 450.82L404.139 435.542","M404.139 435.542L376.063 434.55","M407.215 466.396L404.635 436.038","M394 434.55L387.333 372.875","M387.333 372.875L358 372.875","M358 372.875L353.586 337.71","M349.331 337.71L356.068 330","M347.735 337.71L344.21 291.878","M344.21 291.878L331.25 291.878","M331.25 291.878L337.364 286.25","M337.364 286.25L349.331 286.25","M345.076 285.25L342 239.25","M342 239.25L352.7 231.512","M352.7 231.512L352.7 188.25"];
    path[19]=["M354.46 439.229L349.377 394.154","M349.377 394.154L356.068 384.568","M356.068 384.568L359.375 418.5","M359.375 418.5L380.375 418.5","M380.375 418.5L376.063 434.55","M264.516 411.685L236.625 409.75","M297 376.625L299.5 391.5","M299.5 391.5L315.75 391.5","M315.75 391.5L310.923 349.735","M310.923 349.735L345.076 350.12","M356.068 330L363.325 330","M363.325 330L364 317.667","M353.586 331.628L347.459 243.529"];
    var random = function(up,down){
        return Math.random()*up+down;
    }
    var paper = Raphael("rapheal", 1024, 530);
    paper.breatheall = function(d,time){
     time=time||60;
     var r;
     for(var i=0,len=d.length;i<len;i++){
        var ds=d[i];
        var tmpr=ds.attr('r');
        if(ds.direct>0){
            if(tmpr>4){
                ds.direct=-1;
                r=tmpr-0.1;
            }else{
                r=tmpr+0.1
            }
        }else{
            if(tmpr<2.5){
                r=tmpr+0.1
                ds.direct=1;
            }else{
                r=tmpr-0.1;
            }
        }
        ds.attr('r',r);
    }
    setTimeout(function(){paper.breatheall(d)},60);
}
var circles=[];
paper.next = function(path,time,index){
    var index = index || 0;
    var temp = path[index].split('L');
    var c = paper.path(temp[0]+'L'+temp[0]).attr({stroke:'#009cf6'});
    c.animate({'path':path[index]},time)
    setTimeout(function(){if (index < path.length-1) paper.next(path,time,++index)},time);
}
for(var x=0;x < path.length;x++){
    var location = path[x][0].split('L')[0].split(" ");
    var d = paper.circle(location[0].replace('M',''),location[1],random(4,2.5)).attr({stroke:"none",fill:"#009cf6"});
    circles.push(d);  
}
jQuery("#rapheal circle").fadeIn(2500,function(){jQuery("#rapheal circle").css('display','inline');});

paper.breatheall(circles,27);
setTimeout(function(){
    for(var x=0;x<path.length;x++)
        paper.next(path[x],350);
},1500);
setTimeout(function(){
    circles.push(paper.circle("353.586","239.25",random(4,2.5)).attr({stroke:"none",fill:"#009cf6"}));
    circles.push(paper.circle("371.517","290.752",random(4,2.5)).attr({stroke:"none",fill:"#009cf6"}))
    jQuery("#rapheal svg circle:last-child").fadeIn(1000).prev().fadeIn(1000);
    jQuery("#rapheal img").fadeIn(1500);         
},7000);
});